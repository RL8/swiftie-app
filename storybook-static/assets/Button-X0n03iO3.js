import{c as k,p as h,t as M,a as z,b as N,u as W,r as B}from"./props-DZ_BCPcW.js";import{I as C,J as A,K as x,G as w,M as F,h as L,N as P,w as R,a as S,t as j,p as D,j as G,k as m,m as I,r as J}from"./effects-KVpS0CWG.js";import{a as K}from"./attributes-BdTxKFGG.js";import{t as O}from"./class-DygXD_7e.js";import{c as U}from"./index-client-u9M1_mJD.js";function q(t,e,...a){var r=t,c=w,i;C(()=>{c!==(c=e())&&(i&&(F(i),i=null),i=x(()=>c(r,...a)))},A),L&&(r=P)}function H(t,e,a){R(()=>{var r=S(()=>e(t,a==null?void 0:a())||{});if(r!=null&&r.destroy)return()=>r.destroy()})}function u(t,e,a){return t.addEventListener(e,a),()=>t.removeEventListener(e,a)}function v(t,e,a){t.dispatchEvent(new CustomEvent("tap",{detail:{x:e,y:a}}))}function E(t){const e=u(t.currentTarget,"keydown",r=>{r.which===32&&v(r.currentTarget,null,null)}),a=u(t.currentTarget,"blur",r=>{e(),a()})}function X(t){return t.tagName==="BUTTON"||t.type==="button"}function Q(t){function e(c){if(t.disabled)return;const{clientX:i,clientY:d}=c,l=u(t,"pointerup",s=>{Math.abs(s.clientX-i)>5||Math.abs(s.clientY-d)>5||(v(t,s.clientX,s.clientY),l())});setTimeout(l,300)}const a=u(t,"pointerdown",e),r=X(t)&&u(t,"focus",E);return{destroy(){a(),r&&r()}}}function V(t){let e=!0,a;function r(s){const{clientX:p,clientY:_}=s,f=u(t,"mouseup",o=>{e&&(Math.abs(o.clientX-p)>5||Math.abs(o.clientY-_)>5||(v(t,o.clientX,o.clientY),f()))});clearTimeout(a),setTimeout(f,300)}function c(s){if(s.changedTouches.length!==1||t.disabled)return;const p=s.changedTouches[0],{identifier:_,clientX:f,clientY:o}=p,b=u(t,"touchend",y=>{const n=Array.from(y.changedTouches).find(g=>g.identifier===_);n&&(Math.abs(n.clientX-f)>5||Math.abs(n.clientY-o)>5||(v(t,n.clientX,n.clientY),e=!1,a=setTimeout(()=>{e=!0},350)))});setTimeout(b,300)}const i=u(t,"mousedown",r),d=u(t,"touchstart",c),l=X(t)&&u(t,"focus",E);return{destroy(){i(),d(),l&&l()}}}const T=typeof PointerEvent=="function"?Q:V;var Z=M("<button><!></button>");function Y(t,e){if(new.target)return k({component:Y,...t});G(e,!0);const a=U();let r=h(e,"variant",7,"primary"),c=h(e,"size",7,"default"),i=h(e,"disabled",7,!1),d=h(e,"fullWidth",7,!1),l=h(e,"type",7,"button"),s=h(e,"children",7),p=B(e,["$$slots","$$events","$$legacy","variant","size","disabled","fullWidth","type","children"]);function _(n){i()||a("click",n.detail)}function f(){navigator.vibrate&&!i()&&navigator.vibrate(50)}var o=Z();let b;var y=I(o);return q(y,()=>s()??w),J(o),H(o,n=>T==null?void 0:T(n)),j(()=>{b=K(o,b,{type:l(),disabled:i(),class:`btn btn-${r()??""} ${(d()?"btn-full":"")??""} ${(c()==="compact"?"btn-compact":"")??""}`,ontap:_,ontouchstart:f,...p},"svelte-2x16vz"),O(o,"btn-disabled",i())}),z(t,o),D({get variant(){return r()},set variant(n="primary"){r(n),m()},get size(){return c()},set size(n="default"){c(n),m()},get disabled(){return i()},set disabled(n=!1){i(n),m()},get fullWidth(){return d()},set fullWidth(n=!1){d(n),m()},get type(){return l()},set type(n="button"){l(n),m()},get children(){return s()},set children(n){s(n),m()},$set:W,$on:(n,g)=>N(e,n,g)})}Y.__docgen={keywords:[],data:[],name:"Button.svelte"};export{Y as B,q as s};
