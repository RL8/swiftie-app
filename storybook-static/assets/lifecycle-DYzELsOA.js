import{w as d,x,a as h,y,S,c as b,z as q,u as o,A,B as l,v as g,q as B,C as T}from"./effects-KVpS0CWG.js";function u(s,f){return s===f||(s==null?void 0:s[S])===f}function z(s={},f,t,a){return d(()=>{var i,r;return x(()=>{i=r,r=[],h(()=>{s!==t(...r)&&(f(s,...r),i&&u(t(...i),s)&&f(null,...i))})}),()=>{y(()=>{r&&u(t(...r),s)&&f(null,...r)})}}),s}function C(s=!1){const f=b,t=f.l.u;if(!t)return;let a=()=>B(f.s);if(s){let i=0,r={};const k=T(()=>{let e=!1;const c=f.s;for(const n in c)c[n]!==r[n]&&(r[n]=c[n],e=!0);return e&&i++,i});a=()=>g(k)}t.b.length&&q(()=>{p(f,a),l(t.b)}),o(()=>{const i=h(()=>t.m.map(A));return()=>{for(const r of i)typeof r=="function"&&r()}}),t.a.length&&o(()=>{p(f,a),l(t.a)})}function p(s,f){if(s.l.s)for(const t of s.l.s)g(t);f()}export{z as b,C as i};
