import{c as K,p as g,j as T,a as E,b as W,u as H,k as D}from"./props-DZ_BCPcW.js";import"./legacy-DY07AHLq.js";import{I as z,h as C,O as G,J,P as oe,Q as se,R as ae,D as j,T as L,K as F,U as P,V as ie,N as Q,W as O,p as X,j as Z,k,v as p,o as w,n as h,X as M,d as le,f as pe,Y as de,q as ye}from"./effects-KVpS0CWG.js";import{i as $,b as I}from"./lifecycle-DYzELsOA.js";import{o as fe}from"./index-client-u9M1_mJD.js";import{d as ce}from"./index-ogSvIofg.js";function ue(n,o,s=!1){C&&G();var r=n,t=null,e=null,l=ie,d=s?J:0,f=!1;const y=(v,m=!0)=>{f=!0,c(m,v)},c=(v,m)=>{if(l===(l=v))return;let i=!1;if(C){const u=r.data===oe;!!l===u&&(r=se(),ae(r),j(!1),i=!0)}l?(t?L(t):m&&(t=F(()=>m(r))),e&&P(e,()=>{e=null})):(e?L(e):m&&(e=F(()=>m(r))),t&&P(t,()=>{t=null})),i&&j(!0)};z(()=>{f=!1,o(y),f||c(null,null)},d),C&&(r=Q)}function A(n,o,s){C&&G();var r=n,t,e;z(()=>{t!==(t=o())&&(e&&(P(e),e=null),t&&(e=F(()=>s(r,t))))},J),C&&(r=Q)}function R(n,o){if(new.target)return K({component:R,...n});Z(o,!1);let s=g(o,"decorator",12,void 0),r=g(o,"Component",12),t=g(o,"props",28,()=>({})),e=g(o,"on",12,void 0),l=w(),d=w();function f(){return p(l)||p(d)}e()&&Object.keys(e()).forEach(i=>{fe(()=>f().$on(i,e()[i]))}),$();var y=T(),c=O(y);{var v=i=>{var u=T(),a=O(u);A(a,()=>s().Component,(_,x)=>{I(x(_,D(()=>s().props,{children:(b,ke)=>{var Y=T(),ee=O(Y);A(ee,r,(te,ne)=>{I(ne(te,D(t,{$$legacy:!0})),re=>h(l,re),()=>p(l))}),E(b,Y)},$$slots:{default:!0},$$legacy:!0})),b=>h(d,b),()=>p(d))}),E(i,u)},m=i=>{var u=T(),a=O(u);A(a,r,(_,x)=>{I(x(_,D(t,{$$legacy:!0})),b=>h(l,b),()=>p(l))}),E(i,u)};ue(c,i=>{s()?i(v):i(m,!1)})}return E(n,y),X({get decorator(){return s()},set decorator(i){s(i),k()},get Component(){return r()},set Component(i){r(i),k()},get props(){return t()},set props(i){t(i),k()},get on(){return e()},set on(i){e(i),k()},$set:H,$on:(i,u)=>W(o,i,u)})}R.__docgen={version:3,name:"SlotDecorator.svelte",data:[{visibility:"public",description:null,keywords:[],name:"decorator",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"Component",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"props",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"object",type:"object"}},{visibility:"public",description:null,keywords:[],name:"on",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};function N(n,o){if(new.target)return K({component:N,...n});Z(o,!1);let s=g(o,"name",12),r=g(o,"kind",12),t=g(o,"storyFn",12),e=g(o,"showError",12),l=g(o,"storyContext",12),d=t()(),f=w(d.Component),y=w(M(d.props,()=>({}),!0)),c=w(d.on),v=!0;function m(a){return v?(v=!1,{Component:p(f),props:p(y),on:p(c)}):a()}const i=Object.fromEntries(Object.entries(l().argTypes).filter(([a,_])=>_.action&&p(y)[a]!=null).map(([a,_])=>[_.action,p(y)[a]]));p(f)||e()({title:`Expecting a Svelte component from the story: "${s()}" of "${r()}".`,description:ce`
        Did you forget to return the Svelte component configuration from the story?
        Use "() => ({ Component: YourComponent, props: {} })"
        when defining the story.
      `}),le(()=>(p(f),p(y),p(c),ye(t())),()=>{(a=>(h(f,a.Component),h(y,M(a.props,()=>({}),!0)),h(c,a.on)))(m(t()))}),pe(),$();const u=de(()=>({...i,...p(c)}));return R(n,{get Component(){return p(f)},get props(){return p(y)},get on(){return p(u)}}),X({get name(){return s()},set name(a){s(a),k()},get kind(){return r()},set kind(a){r(a),k()},get storyFn(){return t()},set storyFn(a){t(a),k()},get showError(){return e()},set showError(a){e(a),k()},get storyContext(){return l()},set storyContext(a){l(a),k()},$set:H,$on:(a,_)=>W(o,a,_)})}N.__docgen={version:3,name:"PreviewRender.svelte",data:[{visibility:"public",description:null,keywords:[],name:"name",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"kind",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"storyFn",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"showError",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}},{visibility:"public",description:null,keywords:[],name:"storyContext",kind:"let",static:!1,readonly:!1,type:{kind:"type",text:"any",type:"any"}}],computed:[],methods:[],components:[],description:null,keywords:[],events:[],slots:[],refs:[]};const{addons:me,sanitizeStoryContextUpdate:_e}=__STORYBOOK_MODULE_PREVIEW_API__,{RESET_STORY_ARGS:ge}=__STORYBOOK_MODULE_CORE_EVENTS__;function V(n){return n&&typeof n=="object"&&"default"in n?n.default:n}function q(n,o,s){let r=V(o),t=s&&V(s),e;return!r||Object.keys(r).length===0?e={Component:n.component}:r.Component?e=r:e={Component:r},t?{Component:R,props:{...t,decorator:e}}:e}function Te(n,o){return o.reduce((s,r)=>t=>{let e,l=r(d=>(e=s({...t,..._e(d)}),e),t);return e||(e=s(t)),l===e?e:q(t,l,e)},s=>q(s,n(s)))}var S=new Map;function B(n){S.has(n)&&(S.get(n).$destroy(),n.innerHTML="",S.delete(n))}var U=new Set;me.getChannel().on(ge,({storyId:n})=>{U.add(n)});function Ee({storyFn:n,kind:o,name:s,showMain:r,showError:t,storyContext:e,forceRemount:l},d){let f=S.get(d),y=l;if(U.has(e.id)&&(y=!0,U.delete(e.id)),y&&B(d),!f||y){let c=new N({target:d,props:{storyFn:n,storyContext:e,name:s,kind:o,showError:t}});S.set(d,c)}else f.$set({storyFn:n,storyContext:e,name:s,kind:o,showError:t});return r(),()=>{B(d)}}var Oe=(n,o)=>{let{id:s,component:r}=o;if(!r)throw new Error(`Unable to render story ${s} as the component annotation is missing from the default export`);return{Component:r,props:n}},Re={renderer:"svelte"};export{Te as applyDecorators,Re as parameters,Oe as render,Ee as renderToCanvas};
