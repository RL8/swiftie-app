import{B as S,E as B,C as M,D as z,i as G,T as K,F as P,G as U,H as k,I as R,J as g,K as $,q as j,L as x,M as D}from"./DdAb7SBl.js";import{d as H}from"./CwZ8Xtob.js";const J=()=>performance.now(),u={tick:r=>requestAnimationFrame(r),now:()=>J(),tasks:new Set};function q(){const r=u.now();u.tasks.forEach(t=>{t.c(r)||(u.tasks.delete(t),t.f())}),u.tasks.size!==0&&u.tick(q)}function W(r){let t;return u.tasks.size===0&&u.tick(q),{promise:new Promise(a=>{u.tasks.add(t={c:r,f:a})}),abort(){u.tasks.delete(t)}}}function b(r,t){r.dispatchEvent(new CustomEvent(t))}function Q(r){if(r==="float")return"cssFloat";if(r==="offset")return"cssOffset";if(r.startsWith("--"))return r;const t=r.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(a=>a[0].toUpperCase()+a.slice(1)).join("")}function L(r){const t={},a=r.split(";");for(const i of a){const[e,s]=i.split(":");if(!e||s===void 0)break;const f=Q(e.trim());t[f]=s.trim()}return t}const V=r=>r;function tt(r,t,a,i){var e=(r&x)!==0,s=(r&D)!==0,f=e&&s,T=(r&K)!==0,N=f?"both":e?"in":"out",v,d=t.inert,m=t.style.overflow,c,p;function l(){var w=$,y=S;R(null),g(null);try{return v??=a()(t,i?.()??{},{direction:N})}finally{R(w),g(y)}}var n={is_global:T,in(){if(t.inert=d,!e){p?.abort(),p?.reset?.();return}s||c?.abort(),b(t,"introstart"),c=A(t,l(),p,1,()=>{b(t,"introend"),c?.abort(),c=v=void 0,t.style.overflow=m})},out(w){if(!s){w?.(),v=void 0;return}t.inert=!0,b(t,"outrostart"),p=A(t,l(),c,0,()=>{b(t,"outroend"),w?.()})},stop:()=>{c?.abort(),p?.abort()}},_=S;if((_.transitions??=[]).push(n),e&&H){var h=T;if(!h){for(var o=_.parent;o&&o.f&B;)for(;(o=o.parent)&&!(o.f&M););h=!o||(o.f&z)!==0}h&&G(()=>{j(()=>n.in())})}}function A(r,t,a,i,e){var s=i===1;if(P(t)){var f,T=!1;return U(()=>{if(!T){var _=t({direction:s?"in":"out"});f=A(r,_,a,i,e)}}),{abort:()=>{T=!0,f?.abort()},deactivate:()=>f.deactivate(),reset:()=>f.reset(),t:()=>f.t()}}if(a?.deactivate(),!t?.duration)return e(),{abort:k,deactivate:k,reset:k,t:()=>i};const{delay:N=0,css:v,tick:d,easing:m=V}=t;var c=[];if(s&&a===void 0&&(d&&d(0,1),v)){var p=L(v(0,1));c.push(p,p)}var l=()=>1-i,n=r.animate(c,{duration:N});return n.onfinish=()=>{var _=a?.t()??1-i;a?.abort();var h=i-_,o=t.duration*Math.abs(h),w=[];if(o>0){var y=!1;if(v)for(var C=Math.ceil(o/16.666666666666668),F=0;F<=C;F+=1){var I=_+h*m(F/C),O=L(v(I,1-I));w.push(O),y||=O.overflow==="hidden"}y&&(r.style.overflow="hidden"),l=()=>{var E=n.currentTime;return _+h*m(E/o)},d&&W(()=>{if(n.playState!=="running")return!1;var E=l();return d(E,1-E),!0})}n=r.animate(w,{duration:o,fill:"forwards"}),n.onfinish=()=>{l=()=>i,d?.(i,1-i),e()}},{abort:()=>{n&&(n.cancel(),n.effect=null,n.onfinish=k)},deactivate:()=>{e=k},reset:()=>{i===0&&d?.(1,0)},t:()=>l()}}const X=r=>r;function rt(r,{delay:t=0,duration:a=400,easing:i=X}={}){const e=+getComputedStyle(r).opacity;return{delay:t,duration:a,easing:i,css:s=>`opacity: ${s*e}`}}export{rt as f,tt as t};
