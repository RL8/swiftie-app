import{t as P,a as u,b as v}from"../chunks/CwZ8Xtob.js";import{i as _}from"../chunks/Cawm0jR7.js";import{p as C,g as S,a as k,b as t,n as w,d as n,c as f,r as p}from"../chunks/DdAb7SBl.js";import{S as B,e as F,i as H}from"../chunks/Bq2RDtik.js";import{g as I,b as T}from"../chunks/CgP7GmAE.js";import{H as V}from"../chunks/C4Gd1zx6.js";import{F as j,B as q}from"../chunks/BoqfqeOI.js";import{V as G}from"../chunks/mjcl7iV0.js";var L=v('<div class="album-wrapper svelte-ylu792"><!></div>'),N=v('<main slot="main" class="flex flex-col items-center justify-center h-full p-4"><div class="album-grid svelte-ylu792"></div></main>');function M(g,$){C($,!1);const e=S("music")();function b(s){e.selectedAlbums.some(i=>i.id===s.id)?e.removeAlbum(s.id):e.selectedAlbums.length<3&&e.selectAlbum(s)}function h(){e.selectedAlbums.length===3&&I(`${T}/albums/confirm`)}_(),B(g,{$$slots:{header:(s,i)=>{V(s,{slot:"header",variant:"progress",title:"Pick Your Top 3",subtitle:"Choose your favorite Taylor Swift albums",get progress(){return e.selectedAlbums.length},maxProgress:3})},main:(s,i)=>{var r=N(),d=f(r);F(d,5,()=>e.albums,H,(c,o)=>{var l=L();const a=n(()=>e.selectedAlbums.some(m=>m.id===t(o).id)),x=n(()=>e.selectedAlbums.findIndex(m=>m.id===t(o).id));var A=f(l);const y=n(()=>t(a)?t(x)+1:null);G(A,{get coverArt(){return t(o).coverArt},get title(){return t(o).title},get selected(){return t(a)},get selectionNumber(){return t(y)},badgePosition:"image",showSelectionOverlay:!0,showGrooves:!0,$$events:{click:()=>b(t(o))}}),p(l),u(c,l)}),p(d),p(r),u(s,r)},footer:(s,i)=>{j(s,{variant:"button",slot:"footer",children:(r,d)=>{const c=n(()=>e.selectedAlbums.length<3);q(r,{variant:"primary",get disabled(){return t(c)},$$events:{click:h},children:(o,l)=>{w();var a=P("Continue");u(o,a)},$$slots:{default:!0}})},$$slots:{default:!0}})}}}),k()}export{M as component};
